<div class="personalization-container">
  <h2>Personalize Your Quit Journey</h2>
  <form #personalizationForm="ngForm">
    <div class="form-group">
      <label for="quit-date">Quit Date</label>
      <input
        type="date"
        id="quit-date"
        name="quitDate"
        [(ngModel)]="formData.quitDate"
        required
      />
    </div>
    <div class="form-group">
      <label for="pack-cost">Cost per Pack ($)</label>
      <input
        type="number"
        id="pack-cost"
        name="costPerPack"
        [(ngModel)]="formData.costPerPack"
        step="0.01"
        required
      />
    </div>
    <div class="form-group">
      <label for="cigarettes-per-pack">Cigarettes per Pack</label>
      <input
        type="number"
        id="cigarettes-per-pack"
        name="cigarettesPerPack"
        [(ngModel)]="formData.cigarettesPerPack"
        step="1"
        required
      />
    </div>
    <div class="form-group">
      <label for="packs-per-day">Packs Smoked per Day</label>
      <input
        type="number"
        id="packs-per-day"
        name="packsPerDay"
        [(ngModel)]="formData.packsPerDay"
        step="1"
        required
      />
    </div>
    <div class="form-group">
      <label for="quit-reason">Reason for Quitting</label>
      <input
        type="text"
        id="quit-reason"
        name="reasonForQuitting"
        [(ngModel)]="formData.reasonForQuitting"
        placeholder="For my health, family, etc."
        required
      />
    </div>

    <!-- Error message -->
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <!-- Progress indicator -->
    <div *ngIf="isLoading" class="loading-indicator">
      <p>Updating your data...</p>
    </div>

    <button
      type="submit"
      class="save-button"
      [disabled]="!personalizationForm.form.valid || isLoading"
      (click)="saveSmokeHistory()"
    >
      Save
    </button>
  </form>
</div>
